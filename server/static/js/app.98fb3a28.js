(function(t){function e(e){for(var i,s,a=e[0],u=e[1],p=e[2],l=0,f=[];l<a.length;l++)s=a[l],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&f.push(o[s][0]),o[s]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);c&&c(e);while(f.length)f.shift()();return r.push.apply(r,p||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={app:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var p=0;p<a.length;p++)e(a[p]);var c=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("b1cf")},"56d7":function(t,e,n){"use strict";n.r(e);n("03a1"),n("7e97"),n("d5be"),n("db1d");var i=n("1ec0"),o=n("8c4f"),r=n("5c96"),s=n.n(r),a=(n("5a8b"),n("0fae"),n("acc7"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("fe-header",{attrs:{msg:"Welcome to Your Vue.js App"}}),n("router-view")],1)}),u=[],p=n("9d84"),c=(n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"left-text"},[t._v(" B A S K ")]),n("div",[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[n("el-menu-item",{attrs:{index:"1"}},[t._v(" 人员管理 ")]),n("el-menu-item",{attrs:{index:"2"}},[t._v(" 分组抽签 ")])],1)],1)])}),l=[],f={name:"Header",props:{msg:String},data:function(){return{activeIndex:"1"}},methods:{handleSelect:function(t,e){console.log("handleSelect index",t,"indexPath",e,"activeIndex",this.activeIndex),"1"===t?this.$router.push("people"):"2"===t&&this.$router.push("divideGroup")}}},d=f,h=(n("59c4"),n("838c")),v=Object(h["a"])(d,c,l,!1,null,"8c2edf9e",null),m=v.exports,b={name:"App",components:{"fe-header":m},mounted:function(){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}},g=b,O=(n("034f"),Object(h["a"])(g,a,u,!1,null,null,null)),_=O.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"people"},[n("el-button",{staticClass:"mt20",attrs:{type:"primary"},on:{click:t.handleByPositionClick}},[t._v(" "+t._s(t.isByPosition?"全部显示":"根据位置显示")+" ")]),t.isByPosition?n("people-by-position"):n("div",{staticClass:"list"},t._l(t.list,(function(e,i){return n("div",{key:i,staticClass:"item"},[n("span",{staticClass:"pr20"},[t._v(" "+t._s(e.name)+" ")]),n("span",[t._v(" "+t._s(e.positionList[0])+" ")])])})),0)],1)},y=[],P=n("db04"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.positionList?n("div",{staticClass:"flex h800"},t._l(t.positionList,(function(e,i){return n("div",{key:i},[n("div",[n("div",{staticClass:"position-tips"},[t._v(" "+t._s(e)+" "),t.positionObj[e]?n("span",[t._v(" "+t._s(t.positionObj[e].length)+" ")]):t._e()]),t._l(t.positionObj[e],(function(e,i){return n("div",{key:i},[e?n("div",{staticClass:"person"},[t._v(" "+t._s(e.name)+" ")]):t._e()])}))],2)])})),0):t._e()])},G=[],w=(n("0b09"),n("3730"),n("7c2f"),{props:{},data:function(){return{positionList:["C","PF","SF","PG","SG","other"],positionObj:{}}},mounted:function(){this.initPositionObj(),this.divideGroupByPosition()},methods:{initPositionObj:function(){var t=this;this.positionList.forEach((function(e){t.positionObj[e]=[]}))},divideGroupByPosition:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(P["getPeople"])();case 2:n=e.sent,i=n.data,t.getListByPosition(i);case 5:case"end":return e.stop()}}),e)})))()},getListByPosition:function(t){var e=this;t.forEach((function(t){if(t.positionList&&t.positionList[0]){var n=t.positionList[0];e.positionObj[n].push(t)}else e.positionObj.other.push(t)})),this.positionObj=JSON.parse(JSON.stringify(this.positionObj))}}}),C=w,L=(n("fe61"),Object(h["a"])(C,x,G,!1,null,"fbecaf30",null)),k=L.exports,R={name:"People",props:{},components:{PeopleByPosition:k},data:function(){return{list:[],isByPosition:!1}},mounted:function(){this.setPeople()},methods:{setPeople:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(P["getPeople"])();case 2:n=e.sent,t.list=n.data;case 4:case"end":return e.stop()}}),e)})))()},handleByPositionClick:function(){this.isByPosition=!this.isByPosition}}},S=R,B=(n("8a9f"),Object(h["a"])(S,j,y,!1,null,"df750e7c",null)),E=B.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"divide-group"},[t.positionList?n("div",{staticClass:"flex h400 scroll-y"},t._l(t.positionList,(function(e,i){return n("div",{key:i},[n("div",[n("div",{staticClass:"pt20 pl20 pb10"},[t._v(" "+t._s(e)+" "),t.positionObj[e]?n("span",[t._v(" "+t._s(t.positionObj[e].length)+" ")]):t._e()]),t._l(t.positionObj[e],(function(e,i){return n("div",{key:i},[e?n("div",{staticClass:"person"},[t._v(" "+t._s(e.name)+" ")]):t._e()])}))],2)])})),0):t._e(),n("div",[n("div",{staticClass:"mt20"},[n("span",{staticClass:"mr20"},[t._v(" 本次参赛总人数："+t._s(t.peopleGame.length)+" ")]),t.groupList&&t.groupList.length>0?n("span",[t._v(" 本次组数："+t._s(t.groupList.length)+" ")]):t._e()]),n("el-button",{staticClass:"mt20",attrs:{type:"primary"},on:{click:t.divideGroup}},[t._v(" 点击分组 ")]),t.groupList&&t.groupList.length>0?n("div",t._l(t.groupList,(function(e,i){return n("div",{key:i},[n("div",{staticClass:"mr20 ib width100"},[t._v(" 第 "+t._s(i+1)+" 组 ")]),t._l(e.people,(function(e,i){return n("div",{key:i,staticClass:"person-s ib"},[e?n("span",[t._v(" "+t._s(e.name)+" "+t._s(e.positionList[0])+" ")]):t._e()])}))],2)})),0):t._e()],1)])},J=[],N=(n("fe4f"),n("a3d5"),n("5bd2"),n("ed08")),$={name:"DivideGroup",props:{},data:function(){return{people:[],peopleGame:[],positionList:["C","PF","SF","PG","SG","other"],positionObj:{},countPerGroup:3,groupList:[]}},mounted:function(){this.init()},methods:{init:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.positionList.forEach((function(e){t.positionObj[e]=[]})),e.next=3,Object(P["getPeople"])();case 3:n=e.sent,t.people=n.data,t.peopleGame=JSON.parse(JSON.stringify(t.people)),t.getListByPosition(t.peopleGame);case 7:case"end":return e.stop()}}),e)})))()},getListByPosition:function(t){var e=this;t.forEach((function(t){if(t.positionList&&t.positionList[0]){var n=t.positionList[0];e.positionObj[n].push(t)}else e.positionObj.other.push(t)})),this.positionObj=JSON.parse(JSON.stringify(this.positionObj))},divideGroup:function(){var t=this.peopleGame.length,e=Math.floor(t/this.countPerGroup),n={};this.divideGroupC(e,n),this.divideGroupG(e,n),this.divideOthers(e,n);var i=Object.keys(n).map((function(t){return n[t]}));this.groupList=JSON.parse(JSON.stringify(i)),this.init()},divideGroupC:function(t,e){var n=this.positionObj.C;if(n.length<t)for(var i=t-n.length,o=0;o<i;o++){var r=this.getRandomPerson(this.positionObj.PF);r&&n.push(r)}for(var s=[],a=0;a<t;a++){var u=n[a],p=this.getRandom(t,s);s.push(p),e[p]||(e[p]={people:[]}),e[p].people.push(u),u.group=p}},divideGroupG:function(t,e){for(var n=this.positionObj.PG,i=[],o=0;o<t;o++){var r=n[o];if(!r)break;var s=this.getRandom(t,i);i.push(s),e[s]||(e[s]={people:[]}),e[s].people.push(r),r.group=s}},divideOthers:function(t,e){var n=this;Object.keys(this.positionObj).forEach((function(i){var o=n.positionObj[i];o.forEach((function(i){if(void 0===i.group){var o=n.getRestGroupIndex(t,e);e[o].people.push(i),i.group=o}}))}))},getRandom:function(t,e){var n=Object(N["getRandomInt"])(t);return-1===e.indexOf(n)?n:this.getRandom(t,e)},getRandomPerson:function(t){var e=Object(N["getRandomInt"])(t.length),n=t[e];return t.splice(e,1),n},getRestGroupIndex:function(t,e){var n=0;if(Object.keys(e).forEach((function(t){n+=e[t].people.length})),n===t*this.countPerGroup)return-1;var i=Object(N["getRandomInt"])(t);return e[i].people.length<3?i:this.getRestGroupIndex(t,e)}}},M=$,F=(n("5fc8"),Object(h["a"])(M,I,J,!1,null,"2588d395",null)),T=F.exports;i["default"].config.productionTip=!1,i["default"].use(s.a),i["default"].use(o["a"]);var A=[{path:"/people",component:E},{path:"/divideGroup",component:T}],z=new o["a"]({routes:A});new i["default"]({render:function(t){return t(_)},router:z}).$mount("#app")},"59c4":function(t,e,n){"use strict";n("dcb3")},"5a8b":function(t,e,n){},"5e4a":function(t,e,n){},"5fc8":function(t,e,n){"use strict";n("895d")},"778a":function(t,e,n){},"895d":function(t,e,n){},"8a9f":function(t,e,n){"use strict";n("5e4a")},acc7:function(t,e,n){},b1cf:function(t,e,n){},db04:function(t,e,n){var i=n("0973").default;n("96cf");var o=n("bc3a"),r="http://localhost:8848";function s(){return a.apply(this,arguments)}function a(){return a=i(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o({url:"".concat(r,"/api/people"),method:"GET",headers:{"Content-type":"application/json"},params:{}});case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)}t.exports={getPeople:s}},dcb3:function(t,e,n){},ed08:function(t,e){function n(t){return Math.floor(Math.random()*t)}t.exports={getRandomInt:n}},fe61:function(t,e,n){"use strict";n("778a")}});
//# sourceMappingURL=app.98fb3a28.js.map